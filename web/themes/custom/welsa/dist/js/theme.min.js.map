{"version":3,"sources":["components/accordions.js","components/annoucements.js","components/backgroundVideo.js","components/tabs.js","components/fields.js","components/slider.js","utils/listToSelect.js","layout/header.js","utils/scrollMagic.js","theme.js"],"names":["Drupal","$","length","toggleAccordion","element","attr","closest","toggleClass","find","slideToggle","this","behaviors","accordions","attach","context","settings","accordion","once","click","on","e","which","preventDefault","announcementState","sessionStorage","getItem","announcementButton","closeAnnouncement","setItem","show","scaffoldVideo","block","isDesktop","window","innerWidth","activeVideo","hiddenVideo","addClass","removeClass","hasClass","type","src","data","video","parents","each","load","removeAttr","loadVideo","playbackButton","next","currentState","get","play","pause","toggleVideoPlayback","resize","inputLabels","val","siblings","event","number","numberLength","phoneNumberString","regExp","cleaned","replace","test","isNumeric","substring","matchThree","match","matchSix","matchFull","formatPhoneNumber","children","slick","dots","appendDots","prevArrow","nextArrow","selectTab","activeTab","index","parseInt","tabs","tab","document","updateListToSelect","listToSelect","$select","$option","html","append","wrap","replaceWith","css","controller","ScrollMagic","Controller","Scene","triggerElement","reverse","offset","setClassToggle","addTo","jQuery","drupalSettings"],"mappings":"CAAA,SAAAA,EAAAC,GACA,GAAAA,EAAA,sBAAAC,OAAA,CAmBA,SAAAC,EAAAC,GACAA,EAAAC,KAAA,gBAAA,SAAAD,EAAAC,KAAA,iBAAA,OAAA,SACAD,EAAAE,QAAA,iCAAAC,YAAA,mBAAAC,KAAA,oBAAAC,YAAA,KAAA,WACAR,EAAAS,MAAAL,KAAA,cAAA,QAAAJ,EAAAS,MAAAL,KAAA,eAAA,QAAA,OACA,GACA,CAtBAL,EAAAW,UAAAC,WAAA,CACAC,OAAA,SAAAC,EAAAC,GACA,IAAAC,EAAAf,EAAAgB,KAAA,kBAAA,yCAEAD,EAAAE,OAAA,WACAf,EAAAF,EAAAS,MACA,IAEAM,EAAAG,GAAA,YAAA,SAAAC,GACA,KAAAA,EAAAC,QACAD,EAAAE,iBACAnB,EAAAF,EAAAS,OAEA,GACA,EASA,CCzBA,GAAAT,EAAA,2CAAAC,OAAA,CAEA,IAAAqB,EAAAC,eAAAC,QAAA,gBACAC,EAAAzB,EAAA,2BAiBA,SAAA0B,IACA1B,EAAA,kCAAAQ,cACAe,eAAAI,QAAA,eAAA,YACA,CAlBA,cAAAL,GACAtB,EAAA,kCAAA4B,OAGAH,EAAAR,OAAA,WACAS,GACA,IAEAD,EAAAP,GAAA,YAAA,SAAAC,GACA,KAAAA,EAAAC,QACAD,EAAAE,iBACAK,IAEA,GAMA,CCMA,SAAAG,EAAAC,GACA,MAAAC,EAAAC,OAAAC,YAAA,KACAC,EAAAH,EAAA,UAAA,SACAI,EAAAJ,EAAA,SAAA,UAEAD,EAAAM,SAAA,GAAAF,aAAAG,YAAA,GAAAF,aAEAL,EAAAvB,KAAA,WAAA2B,KAAAI,SAAA,kBAKA,SAAAC,EAAAT,GACA,MAAAU,EAAAV,EAAAvB,KAAA,WAAAgC,YAAAE,KAAA,OACAC,EAAAZ,EAAAvB,KAAA,WAAAgC,KAEAG,EAAAN,SAAA,iBAAAO,QAAA,4BAAAP,SAAA,gBACAN,EAAAvB,KAAA,YAAA,YAAAgC,EAAA,SAAA,YAAAF,YAAA,iBACAP,EAAAvB,KAAA,WAAAgC,YAAAnC,KAAA,MAAAoC,GAEAE,EAAAE,MAAA,WACAnC,KAAAoC,MACA,IAEAf,EAAAQ,SAAA,gBAAAC,WACAG,EAAAI,WAAA,OAEA,CAnBAC,CAAAb,EAAAJ,EAEA,CCxCA,GDAA9B,EAAA,4BAAA4C,MAAA,WACA,MAAAd,EAAA9B,EAAAS,MAEAoB,EAAAC,GAEAA,EAAAvB,KAAA,oBAAAU,OAAA,YASA,SAAA+B,GACA,MAAAd,EAAAc,EAAAC,KAAA,kBAAA1C,KAAA,uBACA,IAAA2C,EAAAhB,EAAA9B,KAAA,cACA8B,IACA,SAAAgB,GACAF,EAAA5C,KAAA,aAAA,eAAAE,YAAA,gDACA4B,EAAA9B,KAAA,aAAA,QACA8B,EAAAiB,IAAA,GAAAC,SAEAJ,EAAA5C,KAAA,aAAA,cAAAE,YAAA,gDACA4B,EAAA9B,KAAA,aAAA,SACA8B,EAAAiB,IAAA,GAAAE,SAGA,CAtBAC,CAAAtD,EAAAS,MACA,IAEAT,EAAAgC,QAAAuB,QAAA,WACA1B,EAAAC,EACA,GACA,IEZA/B,EAAAW,UAAA8C,YAAA,CACA5C,OAAA,SAAAC,EAAAC,GAGAd,EAAA4C,KAAA5C,EAAA,wDAAA,WACAA,EAAAS,MAAAgD,OACAzD,EAAAS,MAAA2B,SAAA,UAAAsB,SAAA,SAAAtB,SAAA,SAEA,IAGApC,EAAA,QAAAkB,GAAA,cAAA,uDAAA,WACAlB,EAAAS,MAAA2B,SAAA,UAAAsB,SAAA,SAAAtB,SAAA,SACA,IAGApC,EAAA,QAAAkB,GAAA,OAAA,uDAAA,WACAlB,EAAAS,MAAAgD,OACAzD,EAAAS,MAAA4B,YAAA,UAAAqB,SAAA,SAAArB,YAAA,SAEA,GAEA,GAIArC,EAAA,uCAAAkB,GAAA,SAAA,SAAAyC,GACA,MAAAC,EAAA5D,EAAAS,MAAAgD,MAGAG,EAAA3D,QAAA,GAAA2D,EAAA3D,OAAA4D,cACAA,aAAAD,EAAA3D,OACAD,EAAAS,MAAAgD,IAOA,SAAAK,GACA,MAAAC,EAAA,YAEA,IAAAC,GAAA,GAAAF,GAAAG,QAAA,MAAA,IAIA,GAAAF,EAAAG,KAAAJ,GACA,OAAAE,EAIAhE,EAAAmE,UAAAH,IAAAA,EAAA,KACAA,EAAAA,EAAAI,UAAA,EAAA,KAKA,MAAAC,EAAAL,EAAAM,MAAA,aACAC,EAAAP,EAAAM,MAAA,oBACAE,EAAAR,EAAAM,MAAA,2BAEA,GAAAD,EACA,MAAA,IAAAA,EAAA,GAAA,KAGA,GAAAE,EACA,MAAA,IAAAA,EAAA,GAAA,KAAAA,EAAA,GAAA,IAGA,GAAAC,EACA,MAAA,IAAAA,EAAA,GAAA,KAAAA,EAAA,GAAA,IAAAA,EAAA,GAIA,OAAAV,CC3EA,CDiCAW,CAAAb,KAGAC,aAAAD,EAAA3D,MAEA,ICnCAD,EAAA,uCAAA4C,MAAA,WACA5C,EAAAS,MAAAiE,SAAA,eAAAzE,OAEA,GACAD,EAAAS,MAAAkE,MAAA,CACAC,MAAA,EAEAC,WAAA7E,EAAAS,MAAAwC,OAAA1C,KAAA,iBACAuE,UAAA9E,EAAAS,MAAAwC,OAAA1C,KAAA,iBACAwE,UAAA/E,EAAAS,MAAAwC,OAAA1C,KAAA,kBAGA,IFdAP,EAAA,SAAAC,OAAA,CAsBA,SAAA+E,EAAA7E,GACA,IAAA8E,EAAA9E,EAAA+E,QAAA,EAEAlD,OAAAC,WAAA,OACAgD,EAAAE,SAAAhF,EAAAI,KAAA,aAAAkD,OAAA,GAGAzD,EAAA,eAAAqC,YAAA,UAAAjC,KAAA,gBAAA,SACAD,EAAAiC,SAAA,UAAAhC,KAAA,gBAAA,QACAJ,EAAA,iBAAAqC,YAAA,UAAAjC,KAAA,WAAA,MACAJ,EAAA,2BAAAiF,EAAA,KAAA7C,SAAA,UAAAhC,KAAA,WAAA,IACA,CA/BAL,EAAAW,UAAA0E,KAAA,CACAxE,OAAA,SAAAC,EAAAC,GACA,IAAAuE,EAAArF,EAAA,eAEAqF,EAAAnE,GAAA,oBAAA,WACA8D,EAAAhF,EAAAS,MACA,IAEA4E,EAAAnE,GAAA,YAAA,SAAAC,GACA,KAAAA,EAAAC,OACA4D,EAAAhF,EAAAS,MAEA,IAEAT,EAAAsF,UAAApE,GAAA,SAAA,gBAAA,WACA8D,EAAAhF,EAAAS,MACA,GACA,EAeA,CGlCA,SAAA8E,IACAvF,EAAA,qBAAAC,QAAA+B,OAAAC,WAAA,OACAlC,EAAAW,UAAA8E,aAAA,CACA5E,OAAA,SAAAC,EAAAC,GAEAd,EAAA,+CAAA4C,MAAA,WACA,IAAA6C,EAAAzF,EAAA,cAEAA,EAAAS,MAAAF,KAAA,MAAAqC,MAAA,WACA,IAAA8C,EAAA1F,EAAA,cACA0F,EAAAtF,KAAA,QAAAJ,EAAAS,MAAAyE,SAAAS,KAAA3F,EAAAS,MAAAkF,QACAF,EAAAG,OAAAF,EACA,IAEA1F,EAAAS,MAAAoF,KAAA,uCACA7F,EAAAS,MAAAqF,YAAAL,EACA,GAEA,GAIA1F,EAAAW,UAAA8E,aAAA5E,OAAA0E,SAAAvF,EAAAe,UAEA,CCxBAd,EAAA,uBAAAiB,OAAA,WACAjB,EAAA,cAAAoC,SAAA,cAAA2D,IAAA,WAAA,UACA/F,EAAA,8CAAAoC,SAAA,iBACA,IAEApC,EAAA,wBAAAiB,OAAA,WACAjB,EAAA,cAAAqC,YAAA,cAAA0D,IAAA,WAAA,QACA/F,EAAA,8CAAAqC,YAAA,iBACA,IAEArC,EAAA,oBAAAiB,OAAA,WACAjB,EAAAS,MAAAH,YAAA,yBAAA2C,KAAA,SAAAzC,aACA,IDeA+E,IAGAvF,EAAAgC,QAAAuB,QAAA,WACAgC,GACA,IE/BA,IAAAS,EAAA,IAAAC,YAAAC,WACAlG,EAAA,0CAAA4C,MAAA,WACA,IAAAqD,YAAAE,MAAA,CACAC,eAAA3F,KACA4F,SAAA,EACAC,QAAA,MAEAC,eAAA9F,KAAA,kBAAA+F,MAAAR,EACA,GCkSC,CT5SD,CS4SGjG,OAAQ0G,OAAQC","file":"theme.min.js","sourcesContent":["if ($('.block--accordions').length) {\n\n  Drupal.behaviors.accordions = {\n    attach: function (context, settings) {\n      let accordion = $(once('accordion-click', '.block--accordions .paragraph__label'));\n\n      accordion.click(function () {\n        toggleAccordion($(this));\n      });\n\n      accordion.on('keypress', function (e) {\n        if (e.which === 13) {\n          e.preventDefault();\n          toggleAccordion($(this));\n        }\n      });\n    }\n  }\n\n  function toggleAccordion(element) {\n    element.attr('aria-expanded', (element.attr('aria-expanded') == 'false' ? 'true' : 'false'));\n    element.closest('.field-item__field-accordions').toggleClass('accordion--open').find('.paragraph__body').slideToggle(125, function() {\n      $(this).attr('aria-hidden', ($(this).attr('aria-hidden') == 'true' ? 'false' : 'true'));\n    });\n  }\n}\n","if ($('.layout__region--announcements > .block').length) {\n\n  let announcementState = sessionStorage.getItem('announcement');\n  let announcementButton = $('.announcements__dismiss');\n\n  if (announcementState !== 'dismissed') {\n    $('.layout__region--announcements').show();\n  }\n\n  announcementButton.click(function () {\n    closeAnnouncement();\n  });\n\n  announcementButton.on('keypress', function (e) {\n    if (e.which === 13) {\n      e.preventDefault();\n      closeAnnouncement();\n    }\n  });\n\n  function closeAnnouncement() {\n    $('.layout__region--announcements').slideToggle();\n    sessionStorage.setItem('announcement', 'dismissed');\n  }\n}\n","$('.block--background-video').each(function() {\n  const block = $(this);\n\n  scaffoldVideo(block);\n\n  block.find('.video__playback').click(function() {\n    toggleVideoPlayback($(this));\n  });\n\n  $(window).resize(function() {\n    scaffoldVideo(block);\n  });\n});\n\nfunction toggleVideoPlayback(playbackButton) {\n  const activeVideo = playbackButton.next('.video__player').find('video.video--loaded');\n  let currentState = activeVideo.attr('data-state');\n  if (activeVideo) {\n    if (currentState == 'pause') {\n      playbackButton.attr('aria-label', 'Pause video').toggleClass('video__playback--play video__playback--pause');\n      activeVideo.attr('data-state', 'play');\n      activeVideo.get(0).play();\n    } else {\n      playbackButton.attr('aria-label', 'Play video').toggleClass('video__playback--play video__playback--pause');\n      activeVideo.attr('data-state', 'pause');\n      activeVideo.get(0).pause();\n    }\n  }\n}\n\nfunction scaffoldVideo(block) {\n  const isDesktop = window.innerWidth >= 1024;\n  const activeVideo = isDesktop ? 'desktop' : 'mobile';\n  const hiddenVideo = isDesktop ? 'mobile' : 'desktop';\n\n  block.addClass(`${activeVideo}--active`).removeClass(`${hiddenVideo}--active`);\n\n  if (!block.find(`.video--${activeVideo}`).hasClass('video--loaded')) {\n    loadVideo(activeVideo, block);\n  }\n}\n\nfunction loadVideo(type, block) {\n  const src = block.find(`.video--${type} source`).data('src');\n  const video = block.find(`.video--${type}`);\n\n  video.addClass('video--loaded').parents('.block--background-video').addClass('video--ready');\n  block.find(`.video--${type === 'desktop' ? 'mobile' : 'desktop'}`).removeClass('video--loaded');\n  block.find(`.video--${type} source`).attr('src', src);\n\n  video.each(function() {\n    this.load();\n  });\n\n  if (block.hasClass(`video__loop--${type}--off`)) {\n    video.removeAttr('loop');\n  }\n}\n","if($('.tabs').length) {\n\n  Drupal.behaviors.tabs = {\n    attach: function (context, settings) {\n      let tab = $('.tab__title');\n\n      tab.on('click touchstart', function(){\n        selectTab($(this));\n      });\n\n      tab.on('keypress', function (e) {\n        if (e.which === 13) {\n          selectTab($(this));\n        }\n      });\n\n      $(document).on('change', '.tabs select', function() {\n        selectTab($(this));\n      });\n    }\n  }\n\n  function selectTab(element) {\n    let activeTab = element.index() + 1;\n\n    if (window.innerWidth < 1024) {\n      activeTab = parseInt(element.find(':selected').val()) + 1;\n    }\n\n    $('.tab__title').removeClass('active').attr('aria-selected', 'false');\n    element.addClass('active').attr('aria-selected', 'true');\n    $('.tab__content').removeClass('active').attr('tabindex', '-1');\n    $('.tab__content:nth-child(' + activeTab + ')').addClass('active').attr('tabindex', '0');\n  }\n}\n","Drupal.behaviors.inputLabels = {\n  attach: function (context, settings) {\n\n    // Check fields on load to see if they already have a value\n    $.each($('.layout-container input, .layout-container textarea'), function () {\n      if ($(this).val()) {\n        $(this).addClass('active').siblings('label').addClass('active');\n      }\n    });\n\n    // When field is clicked or focused\n    $('body').on('click focus', '.layout-container input, .layout-container textarea', function () {\n      $(this).addClass('active').siblings('label').addClass('active');\n    });\n\n    // When field is navigated away from without a value\n    $('body').on('blur', '.layout-container input, .layout-container textarea', function () {\n      if (!$(this).val()) {\n        $(this).removeClass('active').siblings('label').removeClass('active');\n      }\n    });\n\n  }\n}\n\n// Format telephone numbers as they are entered\n$('input.phone-number, input[type=tel]').on('input', function (event) {\n  const number = $(this).val();\n\n  // Only handle formatting if numbers are being added, not deleted\n  if (number.length >= 1 && number.length > numberLength) {\n    numberLength = number.length;\n    $(this).val(formatPhoneNumber(number));\n  }\n  else {\n    numberLength = number.length;\n  }\n});\n\nfunction formatPhoneNumber(phoneNumberString) {\n  const regExp = /[a-zA-Z]/g;\n  // Sanitize string of non-numeric characters\n  let cleaned = ('' + phoneNumberString).replace(/\\D/g, '');\n\n  // Check for letters in original string\n  // If letters exist then return the sanitized string back to the input\n  if (regExp.test(phoneNumberString)) {\n    return cleaned;\n  }\n\n  // If there is a number in the input that is larger than 10 characters, then only allow the first 10\n  if ($.isNumeric(cleaned) && cleaned > 10) {\n    cleaned = cleaned.substring(0, 10);\n  }\n\n  // Create matches to try and format phone number as (234) 556-7788\n  // Format number as user is typing\n  const matchThree = cleaned.match(/^(\\d{3})$/);\n  const matchSix = cleaned.match(/^(\\d{3})(\\d{3})$/);\n  const matchFull = cleaned.match(/^(\\d{3})(\\d{3})(\\d{4})$/);\n\n  if (matchThree) {\n    return '(' + matchThree[1] + ') ';\n  }\n\n  if (matchSix) {\n    return '(' + matchSix[1] + ') ' + matchSix[2] + '-';\n  }\n\n  if (matchFull) {\n    return '(' + matchFull[1] + ') ' + matchFull[2] + '-' + matchFull[3];\n  }\n\n  // If all else fails return the original string\n  return phoneNumberString;\n}","// When the Display Functionality field is set to Slider\n// And only enable slider when more than one item exists (logic in template)\n$('.display--slider .slider--available').each(function() {\n  const slideCount = $(this).children('.field-item').length;\n\n  if (slideCount > 1) {\n    $(this).slick({\n      dots: true,\n      // adaptiveHeight: true,\n      appendDots: $(this).next().find('.slider__dots'),\n      prevArrow: $(this).next().find('.slider__prev'),\n      nextArrow: $(this).next().find('.slider__next')\n    });\n  }\n});\n","function updateListToSelect() {\n  if ($('ul.list-to-select').length && window.innerWidth < 1024) {\n    Drupal.behaviors.listToSelect = {\n      attach: function (context, settings) {\n\n        $('ul.list-to-select, .block--local-tasks > ul').each(function() {\n          var $select = $('<select />');\n\n          $(this).find('li').each(function() {\n            var $option = $('<option />');\n            $option.attr('value', $(this).index()).html($(this).html());\n            $select.append($option);\n          });\n\n          $(this).wrap('<div class=\"select__wrapper\"></div>');\n          $(this).replaceWith($select);\n        });\n\n      }\n    }\n\n    // Manually attach the behavior when the function is called\n    Drupal.behaviors.listToSelect.attach(document, Drupal.settings);\n  }\n}\n\n// Run on initial load\nupdateListToSelect();\n\n// Add an event listener for browser resize\n$(window).resize(function() {\n  updateListToSelect();\n});\n","$('.menu__toggle--open').click(function() {\n  $('html, body').addClass('menu--open').css('overflow', 'hidden');\n  $('.header, .block-menu-system-menu-blockmain').addClass('mobile--active')\n});\n\n$('.menu__toggle--close').click(function() {\n  $('html, body').removeClass('menu--open').css('overflow', 'auto');\n  $('.header, .block-menu-system-menu-blockmain').removeClass('mobile--active')\n});\n\n$('.submenu__toggle').click(function() {\n  $(this).toggleClass('submenu__toggle--open').next('.menu').slideToggle();\n});\n","// Toggle class on each block placed with layout builder when scrolled into the viewport\nvar controller = new ScrollMagic.Controller();\n$('main .block:not(.layout-builder-block)').each( function() {\n  new ScrollMagic.Scene({\n    triggerElement: this,\n    reverse: false,\n    offset: -325\n  })\n    .setClassToggle(this, 'scroll-animate').addTo(controller);\n});\n",null],"sourceRoot":"/js"}