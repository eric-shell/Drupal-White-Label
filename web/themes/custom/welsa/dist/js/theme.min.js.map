{"version":3,"sources":["utils/listToSelect.js","utils/scrollMagic.js","components/accordions.js","layout/header.js","components/annoucements.js","components/backgroundVideo.js","components/tabs.js","components/fields.js","components/slider.js","theme.js"],"names":["Drupal","$","updateListToSelect","length","window","innerWidth","behaviors","listToSelect","attach","context","settings","each","$select","this","find","$option","attr","index","html","append","wrap","replaceWith","document","resize","controller","ScrollMagic","Controller","Scene","triggerElement","reverse","offset","setClassToggle","addTo","click","addClass","css","removeClass","toggleClass","next","slideToggle","toggleAccordion","element","closest","accordions","accordion","once","on","e","which","preventDefault","announcementState","sessionStorage","getItem","announcementButton","closeAnnouncement","setItem","show","scaffoldVideo","block","isDesktop","activeVideo","hiddenVideo","hasClass","type","src","data","video","parents","load","removeAttr","loadVideo","playbackButton","currentState","get","play","pause","toggleVideoPlayback","inputLabels","val","siblings","event","number","numberLength","phoneNumberString","regExp","cleaned","replace","test","isNumeric","substring","matchThree","match","matchSix","matchFull","formatPhoneNumber","children","slick","dots","appendDots","prevArrow","nextArrow","selectTab","activeTab","parseInt","tabs","tab","jQuery","drupalSettings"],"mappings":"CAAA,SAAAA,EAAAC,GACA,SAAAC,IACAD,EAAA,qBAAAE,QAAAC,OAAAC,WAAA,OACAL,EAAAM,UAAAC,aAAA,CACAC,OAAA,SAAAC,EAAAC,GAEAT,EAAA,+CAAAU,MAAA,WACA,IAAAC,EAAAX,EAAA,cAEAA,EAAAY,MAAAC,KAAA,MAAAH,MAAA,WACA,IAAAI,EAAAd,EAAA,cACAc,EAAAC,KAAA,QAAAf,EAAAY,MAAAI,SAAAC,KAAAjB,EAAAY,MAAAK,QACAN,EAAAO,OAAAJ,EACA,IAEAd,EAAAY,MAAAO,KAAA,uCACAnB,EAAAY,MAAAQ,YAAAT,EACA,GAEA,GAIAZ,EAAAM,UAAAC,aAAAC,OAAAc,SAAAtB,EAAAU,UAEA,CAGAR,IAGAD,EAAAG,QAAAmB,QAAA,WACArB,GACA,IC/BA,IAAAsB,EAAA,IAAAC,YAAAC,WCDA,GDEAzB,EAAA,0CAAAU,MAAA,WACA,IAAAc,YAAAE,MAAA,CACAC,eAAAf,KACAgB,SAAA,EACAC,QAAA,MAEAC,eAAAlB,KAAA,kBAAAmB,MAAAR,EACA,IETAvB,EAAA,uBAAAgC,OAAA,WACAhC,EAAA,cAAAiC,SAAA,cAAAC,IAAA,WAAA,UACAlC,EAAA,8CAAAiC,SAAA,iBACA,IAEAjC,EAAA,wBAAAgC,OAAA,WACAhC,EAAA,cAAAmC,YAAA,cAAAD,IAAA,WAAA,QACAlC,EAAA,8CAAAmC,YAAA,iBACA,IAEAnC,EAAA,oBAAAgC,OAAA,WACAhC,EAAAY,MAAAwB,YAAA,yBAAAC,KAAA,SAAAC,aACA,IDZAtC,EAAA,sBAAAE,OAAA,CAmBA,SAAAqC,EAAAC,GACAA,EAAAC,QAAA,iCAAAL,YAAA,mBAAAvB,KAAA,oBAAAyB,YAAA,KAAA,WACAtC,EAAAY,MAAAG,KAAA,cAAA,QAAAf,EAAAY,MAAAG,KAAA,eAAA,QAAA,OACA,GACA,CArBAhB,EAAAM,UAAAqC,WAAA,CACAnC,OAAA,SAAAC,EAAAC,GACA,IAAAkC,EAAA3C,EAAA4C,KAAA,kBAAA,yCAEAD,EAAAX,OAAA,WACAO,EAAAvC,EAAAY,MACA,IAEA+B,EAAAE,GAAA,YAAA,SAAAC,GACA,KAAAA,EAAAC,QACAD,EAAAE,iBACAT,EAAAvC,EAAAY,OAEA,GACA,EAQA,CExBA,GAAAZ,EAAA,2CAAAE,OAAA,CAEA,IAAA+C,EAAAC,eAAAC,QAAA,gBACAC,EAAApD,EAAA,2BAiBA,SAAAqD,IACArD,EAAA,kCAAAsC,cACAY,eAAAI,QAAA,eAAA,YACA,CAlBA,cAAAL,GACAjD,EAAA,kCAAAuD,OAGAH,EAAApB,OAAA,WACAqB,GACA,IAEAD,EAAAP,GAAA,YAAA,SAAAC,GACA,KAAAA,EAAAC,QACAD,EAAAE,iBACAK,IAEA,GAMA,CCMA,SAAAG,EAAAC,GACA,MAAAC,EAAAvD,OAAAC,YAAA,KACAuD,EAAAD,EAAA,UAAA,SACAE,EAAAF,EAAA,SAAA,UAEAD,EAAAxB,SAAA,GAAA0B,aAAAxB,YAAA,GAAAyB,aAEAH,EAAA5C,KAAA,WAAA8C,KAAAE,SAAA,kBAKA,SAAAC,EAAAL,GACA,MAAAM,EAAAN,EAAA5C,KAAA,WAAAiD,YAAAE,KAAA,OACAC,EAAAR,EAAA5C,KAAA,WAAAiD,KAEAG,EAAAhC,SAAA,iBAAAiC,QAAA,4BAAAjC,SAAA,gBACAwB,EAAA5C,KAAA,YAAA,YAAAiD,EAAA,SAAA,YAAA3B,YAAA,iBACAsB,EAAA5C,KAAA,WAAAiD,YAAA/C,KAAA,MAAAgD,GAEAE,EAAAvD,MAAA,WACAE,KAAAuD,MACA,IAEAV,EAAAI,SAAA,gBAAAC,WACAG,EAAAG,WAAA,OAEA,CAnBAC,CAAAV,EAAAF,EAEA,CCxCA,GDAAzD,EAAA,4BAAAU,MAAA,WACA,MAAA+C,EAAAzD,EAAAY,MAEA4C,EAAAC,GAEAA,EAAA5C,KAAA,oBAAAmB,OAAA,YASA,SAAAsC,GACA,MAAAX,EAAAW,EAAAjC,KAAA,kBAAAxB,KAAA,uBACA,IAAA0D,EAAAZ,EAAA5C,KAAA,cACA4C,IACA,SAAAY,GACAD,EAAAvD,KAAA,aAAA,eAAAqB,YAAA,gDACAuB,EAAA5C,KAAA,aAAA,QACA4C,EAAAa,IAAA,GAAAC,SAEAH,EAAAvD,KAAA,aAAA,cAAAqB,YAAA,gDACAuB,EAAA5C,KAAA,aAAA,SACA4C,EAAAa,IAAA,GAAAE,SAGA,CAtBAC,CAAA3E,EAAAY,MACA,IAEAZ,EAAAG,QAAAmB,QAAA,WACAkC,EAAAC,EACA,GACA,IEZA1D,EAAAM,UAAAuE,YAAA,CACArE,OAAA,SAAAC,EAAAC,GAGAT,EAAAU,KAAAV,EAAA,wDAAA,WACAA,EAAAY,MAAAiE,OACA7E,EAAAY,MAAAqB,SAAA,UAAA6C,SAAA,SAAA7C,SAAA,SAEA,IAGAjC,EAAA,QAAA6C,GAAA,cAAA,uDAAA,WACA7C,EAAAY,MAAAqB,SAAA,UAAA6C,SAAA,SAAA7C,SAAA,SACA,IAGAjC,EAAA,QAAA6C,GAAA,OAAA,uDAAA,WACA7C,EAAAY,MAAAiE,OACA7E,EAAAY,MAAAuB,YAAA,UAAA2C,SAAA,SAAA3C,YAAA,SAEA,GAEA,GAIAnC,EAAA,uCAAA6C,GAAA,SAAA,SAAAkC,GACA,MAAAC,EAAAhF,EAAAY,MAAAiE,MAGAG,EAAA9E,QAAA,GAAA8E,EAAA9E,OAAA+E,cACAA,aAAAD,EAAA9E,OACAF,EAAAY,MAAAiE,IAOA,SAAAK,GACA,MAAAC,EAAA,YAEA,IAAAC,GAAA,GAAAF,GAAAG,QAAA,MAAA,IAIA,GAAAF,EAAAG,KAAAJ,GACA,OAAAE,EAIApF,EAAAuF,UAAAH,IAAAA,EAAA,KACAA,EAAAA,EAAAI,UAAA,EAAA,KAKA,MAAAC,EAAAL,EAAAM,MAAA,aACAC,EAAAP,EAAAM,MAAA,oBACAE,EAAAR,EAAAM,MAAA,2BAEA,GAAAD,EACA,MAAA,IAAAA,EAAA,GAAA,KAGA,GAAAE,EACA,MAAA,IAAAA,EAAA,GAAA,KAAAA,EAAA,GAAA,IAGA,GAAAC,EACA,MAAA,IAAAA,EAAA,GAAA,KAAAA,EAAA,GAAA,IAAAA,EAAA,GAIA,OAAAV,CC3EA,CDiCAW,CAAAb,KAGAC,aAAAD,EAAA9E,MAEA,ICnCAF,EAAA,uCAAAU,MAAA,WACAV,EAAAY,MAAAkF,SAAA,eAAA5F,OAEA,GACAF,EAAAY,MAAAmF,MAAA,CACAC,MAAA,EAEAC,WAAAjG,EAAAY,MAAAyB,OAAAxB,KAAA,iBACAqF,UAAAlG,EAAAY,MAAAyB,OAAAxB,KAAA,iBACAsF,UAAAnG,EAAAY,MAAAyB,OAAAxB,KAAA,kBAGA,IFdAb,EAAA,SAAAE,OAAA,CAsBA,SAAAkG,EAAA5D,GACA,IAAA6D,EAAA7D,EAAAxB,QAAA,EAEAb,OAAAC,WAAA,OACAiG,EAAAC,SAAA9D,EAAA3B,KAAA,aAAAgE,OAAA,GAGA7E,EAAA,eAAAmC,YAAA,UAAApB,KAAA,gBAAA,SACAyB,EAAAP,SAAA,UAAAlB,KAAA,gBAAA,QACAf,EAAA,iBAAAmC,YAAA,UAAApB,KAAA,WAAA,MACAf,EAAA,2BAAAqG,EAAA,KAAApE,SAAA,UAAAlB,KAAA,WAAA,IACA,CA/BAhB,EAAAM,UAAAkG,KAAA,CACAhG,OAAA,SAAAC,EAAAC,GACA,IAAA+F,EAAAxG,EAAA,eAEAwG,EAAA3D,GAAA,oBAAA,WACAuD,EAAApG,EAAAY,MACA,IAEA4F,EAAA3D,GAAA,YAAA,SAAAC,GACA,KAAAA,EAAAC,OACAqD,EAAApG,EAAAY,MAEA,IAEAZ,EAAAqB,UAAAwB,GAAA,SAAA,gBAAA,WACAuD,EAAApG,EAAAY,MACA,GACA,EAeA,CGwQC,CT3SD,CS2SGb,OAAQ0G,OAAQC","file":"theme.min.js","sourcesContent":["function updateListToSelect() {\n  if ($('ul.list-to-select').length && window.innerWidth < 1024) {\n    Drupal.behaviors.listToSelect = {\n      attach: function (context, settings) {\n\n        $('ul.list-to-select, .block--local-tasks > ul').each(function() {\n          var $select = $('<select />');\n\n          $(this).find('li').each(function() {\n            var $option = $('<option />');\n            $option.attr('value', $(this).index()).html($(this).html());\n            $select.append($option);\n          });\n\n          $(this).wrap('<div class=\"select__wrapper\"></div>');\n          $(this).replaceWith($select);\n        });\n\n      }\n    }\n\n    // Manually attach the behavior when the function is called\n    Drupal.behaviors.listToSelect.attach(document, Drupal.settings);\n  }\n}\n\n// Run on initial load\nupdateListToSelect();\n\n// Add an event listener for browser resize\n$(window).resize(function() {\n  updateListToSelect();\n});\n","// Toggle class on each block placed with layout builder when scrolled into the viewport\nvar controller = new ScrollMagic.Controller();\n$('main .block:not(.layout-builder-block)').each( function() {\n  new ScrollMagic.Scene({\n    triggerElement: this,\n    reverse: false,\n    offset: -325\n  })\n    .setClassToggle(this, 'scroll-animate').addTo(controller);\n});\n","if ($('.block--accordions').length) {\n\n  Drupal.behaviors.accordions = {\n    attach: function (context, settings) {\n      let accordion = $(once('accordion-click', '.block--accordions .paragraph__label'));\n\n      accordion.click(function () {\n        toggleAccordion($(this));\n      });\n\n      accordion.on('keypress', function (e) {\n        if (e.which === 13) {\n          e.preventDefault();\n          toggleAccordion($(this));\n        }\n      });\n    }\n  }\n\n  function toggleAccordion(element) {\n    element.closest('.field-item__field-accordions').toggleClass('accordion--open').find('.paragraph__body').slideToggle(125, function() {\n      $(this).attr('aria-hidden', ($(this).attr('aria-hidden') == 'true' ? 'false' : 'true'));\n    });\n  }\n}\n","$('.menu__toggle--open').click(function() {\n  $('html, body').addClass('menu--open').css('overflow', 'hidden');\n  $('.header, .block-menu-system-menu-blockmain').addClass('mobile--active')\n});\n\n$('.menu__toggle--close').click(function() {\n  $('html, body').removeClass('menu--open').css('overflow', 'auto');\n  $('.header, .block-menu-system-menu-blockmain').removeClass('mobile--active')\n});\n\n$('.submenu__toggle').click(function() {\n  $(this).toggleClass('submenu__toggle--open').next('.menu').slideToggle();\n});\n","if ($('.layout__region--announcements > .block').length) {\n\n  let announcementState = sessionStorage.getItem('announcement');\n  let announcementButton = $('.announcements__dismiss');\n\n  if (announcementState !== 'dismissed') {\n    $('.layout__region--announcements').show();\n  }\n\n  announcementButton.click(function () {\n    closeAnnouncement();\n  });\n\n  announcementButton.on('keypress', function (e) {\n    if (e.which === 13) {\n      e.preventDefault();\n      closeAnnouncement();\n    }\n  });\n\n  function closeAnnouncement() {\n    $('.layout__region--announcements').slideToggle();\n    sessionStorage.setItem('announcement', 'dismissed');\n  }\n}\n","$('.block--background-video').each(function() {\n  const block = $(this);\n\n  scaffoldVideo(block);\n\n  block.find('.video__playback').click(function() {\n    toggleVideoPlayback($(this));\n  });\n\n  $(window).resize(function() {\n    scaffoldVideo(block);\n  });\n});\n\nfunction toggleVideoPlayback(playbackButton) {\n  const activeVideo = playbackButton.next('.video__player').find('video.video--loaded');\n  let currentState = activeVideo.attr('data-state');\n  if (activeVideo) {\n    if (currentState == 'pause') {\n      playbackButton.attr('aria-label', 'Pause video').toggleClass('video__playback--play video__playback--pause');\n      activeVideo.attr('data-state', 'play');\n      activeVideo.get(0).play();\n    } else {\n      playbackButton.attr('aria-label', 'Play video').toggleClass('video__playback--play video__playback--pause');\n      activeVideo.attr('data-state', 'pause');\n      activeVideo.get(0).pause();\n    }\n  }\n}\n\nfunction scaffoldVideo(block) {\n  const isDesktop = window.innerWidth >= 1024;\n  const activeVideo = isDesktop ? 'desktop' : 'mobile';\n  const hiddenVideo = isDesktop ? 'mobile' : 'desktop';\n\n  block.addClass(`${activeVideo}--active`).removeClass(`${hiddenVideo}--active`);\n\n  if (!block.find(`.video--${activeVideo}`).hasClass('video--loaded')) {\n    loadVideo(activeVideo, block);\n  }\n}\n\nfunction loadVideo(type, block) {\n  const src = block.find(`.video--${type} source`).data('src');\n  const video = block.find(`.video--${type}`);\n\n  video.addClass('video--loaded').parents('.block--background-video').addClass('video--ready');\n  block.find(`.video--${type === 'desktop' ? 'mobile' : 'desktop'}`).removeClass('video--loaded');\n  block.find(`.video--${type} source`).attr('src', src);\n\n  video.each(function() {\n    this.load();\n  });\n\n  if (block.hasClass(`video__loop--${type}--off`)) {\n    video.removeAttr('loop');\n  }\n}\n","if($('.tabs').length) {\n\n  Drupal.behaviors.tabs = {\n    attach: function (context, settings) {\n      let tab = $('.tab__title');\n\n      tab.on('click touchstart', function(){\n        selectTab($(this));\n      });\n\n      tab.on('keypress', function (e) {\n        if (e.which === 13) {\n          selectTab($(this));\n        }\n      });\n\n      $(document).on('change', '.tabs select', function() {\n        selectTab($(this));\n      });\n    }\n  }\n\n  function selectTab(element) {\n    let activeTab = element.index() + 1;\n\n    if (window.innerWidth < 1024) {\n      activeTab = parseInt(element.find(':selected').val()) + 1;\n    }\n\n    $('.tab__title').removeClass('active').attr('aria-selected', 'false');\n    element.addClass('active').attr('aria-selected', 'true');\n    $('.tab__content').removeClass('active').attr('tabindex', '-1');\n    $('.tab__content:nth-child(' + activeTab + ')').addClass('active').attr('tabindex', '0');\n  }\n}\n","Drupal.behaviors.inputLabels = {\n  attach: function (context, settings) {\n\n    // Check fields on load to see if they already have a value\n    $.each($('.layout-container input, .layout-container textarea'), function () {\n      if ($(this).val()) {\n        $(this).addClass('active').siblings('label').addClass('active');\n      }\n    });\n\n    // When field is clicked or focused\n    $('body').on('click focus', '.layout-container input, .layout-container textarea', function () {\n      $(this).addClass('active').siblings('label').addClass('active');\n    });\n\n    // When field is navigated away from without a value\n    $('body').on('blur', '.layout-container input, .layout-container textarea', function () {\n      if (!$(this).val()) {\n        $(this).removeClass('active').siblings('label').removeClass('active');\n      }\n    });\n\n  }\n}\n\n// Format telephone numbers as they are entered\n$('input.phone-number, input[type=tel]').on('input', function (event) {\n  const number = $(this).val();\n\n  // Only handle formatting if numbers are being added, not deleted\n  if (number.length >= 1 && number.length > numberLength) {\n    numberLength = number.length;\n    $(this).val(formatPhoneNumber(number));\n  }\n  else {\n    numberLength = number.length;\n  }\n});\n\nfunction formatPhoneNumber(phoneNumberString) {\n  const regExp = /[a-zA-Z]/g;\n  // Sanitize string of non-numeric characters\n  let cleaned = ('' + phoneNumberString).replace(/\\D/g, '');\n\n  // Check for letters in original string\n  // If letters exist then return the sanitized string back to the input\n  if (regExp.test(phoneNumberString)) {\n    return cleaned;\n  }\n\n  // If there is a number in the input that is larger than 10 characters, then only allow the first 10\n  if ($.isNumeric(cleaned) && cleaned > 10) {\n    cleaned = cleaned.substring(0, 10);\n  }\n\n  // Create matches to try and format phone number as (234) 556-7788\n  // Format number as user is typing\n  const matchThree = cleaned.match(/^(\\d{3})$/);\n  const matchSix = cleaned.match(/^(\\d{3})(\\d{3})$/);\n  const matchFull = cleaned.match(/^(\\d{3})(\\d{3})(\\d{4})$/);\n\n  if (matchThree) {\n    return '(' + matchThree[1] + ') ';\n  }\n\n  if (matchSix) {\n    return '(' + matchSix[1] + ') ' + matchSix[2] + '-';\n  }\n\n  if (matchFull) {\n    return '(' + matchFull[1] + ') ' + matchFull[2] + '-' + matchFull[3];\n  }\n\n  // If all else fails return the original string\n  return phoneNumberString;\n}","// When the Display Functionality field is set to Slider\n// And only enable slider when more than one item exists (logic in template)\n$('.display--slider .slider--available').each(function() {\n  const slideCount = $(this).children('.field-item').length;\n\n  if (slideCount > 1) {\n    $(this).slick({\n      dots: true,\n      // adaptiveHeight: true,\n      appendDots: $(this).next().find('.slider__dots'),\n      prevArrow: $(this).next().find('.slider__prev'),\n      nextArrow: $(this).next().find('.slider__next')\n    });\n  }\n});\n",null],"sourceRoot":"/js"}